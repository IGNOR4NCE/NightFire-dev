\hypertarget{class_p_n_c_p}{}\section{P\+N\+CP Class Reference}
\label{class_p_n_c_p}\index{P\+N\+CP@{P\+N\+CP}}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_p_n_c_p_1_1_f_r_a_m_e}{F\+R\+A\+ME}
\end{DoxyCompactItemize}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_p_n_c_p_ade922129d20c574d2a962f3ff0cd4ea3}{P\+N\+CP} (uint8\+\_\+t G\+A\+DD, uint32\+\_\+t U\+A\+DD)
\begin{DoxyCompactList}\small\item\em intialize the library \end{DoxyCompactList}\item 
void \hyperlink{class_p_n_c_p_ae37424d9ee5f2232e0fc1f3d9e81f0ad}{begin} (long baud, size\+\_\+t port=0, uint8\+\_\+t R\+E\+\_\+pin\+\_\+def=2, uint8\+\_\+t D\+E\+\_\+pin\+\_\+def=3)
\begin{DoxyCompactList}\small\item\em Used to setup the rs-\/485 chip. \end{DoxyCompactList}\item 
void \hyperlink{class_p_n_c_p_ab292e3b595289320a03ed6179750942d}{update} ()
\begin{DoxyCompactList}\small\item\em Collects and decodes packets. \end{DoxyCompactList}\item 
bool \hyperlink{class_p_n_c_p_a153136448f88a3d2ac580c329620aea4}{available} ()
\begin{DoxyCompactList}\small\item\em Used to check available packets. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{class_p_n_c_p_a14efa4c46289d86be1a49f8e5594f396}{set\+G\+A\+DD} (uint8\+\_\+t G\+A\+DD)
\begin{DoxyCompactList}\small\item\em Set group address. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{class_p_n_c_p_ae885bf46891dfdc36def5b8e8337f5b8}{get\+G\+A\+DD} ()
\begin{DoxyCompactList}\small\item\em Get group address. \end{DoxyCompactList}\item 
uint32\+\_\+t \hyperlink{class_p_n_c_p_a5690f103c1f9878652ed09fff85bafb8}{get\+U\+A\+DD} ()
\begin{DoxyCompactList}\small\item\em Get current U\+A\+DD. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{class_p_n_c_p_aa6e0bdee89e847ff9e055868d042c538}{get\+Header} ()
\begin{DoxyCompactList}\small\item\em Get current header. \end{DoxyCompactList}\item 
uint8\+\_\+t \hyperlink{class_p_n_c_p_aa0245863a56c402405025d73c4975607}{get\+Framesize} ()
\begin{DoxyCompactList}\small\item\em Get current payload size. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{class_p_n_c_p_a4cebd53315887f45d67036443687780d}\label{class_p_n_c_p_a4cebd53315887f45d67036443687780d}} 
void {\bfseries set\+Callback} (void($\ast$error\+Callback)(byte P\+H\+Y\+\_\+error\+\_\+status))
\item 
bool \hyperlink{class_p_n_c_p_a510082b9d59deac16a6aa19a228c2cd7}{write} (uint8\+\_\+t $\ast$P\+LD, uint8\+\_\+t size)
\begin{DoxyCompactList}\small\item\em Used to send packets. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_p_n_c_p_a758f566237d9cdc8f0e690e50d825888}\label{class_p_n_c_p_a758f566237d9cdc8f0e690e50d825888}} 
struct \hyperlink{struct_p_n_c_p_1_1_f_r_a_m_e}{P\+N\+C\+P\+::\+F\+R\+A\+ME} {\bfseries frame}
\item 
\mbox{\Hypertarget{class_p_n_c_p_a897150ee7c23a8e7f57731d36612971e}\label{class_p_n_c_p_a897150ee7c23a8e7f57731d36612971e}} 
uint8\+\_\+t {\bfseries \+\_\+\+Address\+\_\+type}
\end{DoxyCompactItemize}


\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_p_n_c_p_ade922129d20c574d2a962f3ff0cd4ea3}\label{class_p_n_c_p_ade922129d20c574d2a962f3ff0cd4ea3}} 
\index{P\+N\+CP@{P\+N\+CP}!P\+N\+CP@{P\+N\+CP}}
\index{P\+N\+CP@{P\+N\+CP}!P\+N\+CP@{P\+N\+CP}}
\subsubsection{\texorpdfstring{P\+N\+C\+P()}{PNCP()}}
{\footnotesize\ttfamily P\+N\+C\+P\+::\+P\+N\+CP (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{G\+A\+DD,  }\item[{uint32\+\_\+t}]{U\+A\+DD }\end{DoxyParamCaption})}



intialize the library 

This is used to intialize your devices addresses.


\begin{DoxyParams}{Parameters}
{\em G\+A\+DD} & is the group address of the device. \\
\hline
{\em U\+A\+DD} & is the Unique address of the device. \\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{class_p_n_c_p_a14efa4c46289d86be1a49f8e5594f396}{set\+G\+A\+D\+D()} 
\end{DoxySeeAlso}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{class_p_n_c_p_a153136448f88a3d2ac580c329620aea4}\label{class_p_n_c_p_a153136448f88a3d2ac580c329620aea4}} 
\index{P\+N\+CP@{P\+N\+CP}!available@{available}}
\index{available@{available}!P\+N\+CP@{P\+N\+CP}}
\subsubsection{\texorpdfstring{available()}{available()}}
{\footnotesize\ttfamily bool P\+N\+C\+P\+::available (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Used to check available packets. 

This should be called frequently to beable to use received packets. 
\begin{DoxyCode}
  \textcolor{keywordflow}{if}(pncp.available)\{
  \textcolor{comment}{//Do stuff with the payload.}
\}
\end{DoxyCode}
 \begin{DoxyReturn}{Returns}
True if the packet is for us and C\+RC is correct. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{class_p_n_c_p_ab292e3b595289320a03ed6179750942d}{update()} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{class_p_n_c_p_ae37424d9ee5f2232e0fc1f3d9e81f0ad}\label{class_p_n_c_p_ae37424d9ee5f2232e0fc1f3d9e81f0ad}} 
\index{P\+N\+CP@{P\+N\+CP}!begin@{begin}}
\index{begin@{begin}!P\+N\+CP@{P\+N\+CP}}
\subsubsection{\texorpdfstring{begin()}{begin()}}
{\footnotesize\ttfamily void P\+N\+C\+P\+::begin (\begin{DoxyParamCaption}\item[{long}]{baud,  }\item[{size\+\_\+t}]{port = {\ttfamily 0},  }\item[{uint8\+\_\+t}]{R\+E\+\_\+pin\+\_\+def = {\ttfamily 2},  }\item[{uint8\+\_\+t}]{D\+E\+\_\+pin\+\_\+def = {\ttfamily 3} }\end{DoxyParamCaption})}



Used to setup the rs-\/485 chip. 

This only needs to be called during setup() 
\begin{DoxyParams}{Parameters}
{\em baud} & Baud rate for U\+A\+RT. \\
\hline
{\em port} & Hardware serial port. Defined 0-\/4 \\
\hline
{\em R\+E\+\_\+pin\+\_\+def} & Recieve enable pin used for the rs-\/485 chip. \\
\hline
{\em D\+E\+\_\+pin\+\_\+def} & Data enable pin used for the rs-\/485 chip. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{class_p_n_c_p_aa0245863a56c402405025d73c4975607}\label{class_p_n_c_p_aa0245863a56c402405025d73c4975607}} 
\index{P\+N\+CP@{P\+N\+CP}!get\+Framesize@{get\+Framesize}}
\index{get\+Framesize@{get\+Framesize}!P\+N\+CP@{P\+N\+CP}}
\subsubsection{\texorpdfstring{get\+Framesize()}{getFramesize()}}
{\footnotesize\ttfamily uint8\+\_\+t P\+N\+C\+P\+::get\+Framesize (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get current payload size. 

This is used to get the current payload size. \begin{DoxyNote}{Note}
This can only be called when a packet is available. 
\begin{DoxyCode}
\textcolor{keywordflow}{if}(pncp.available())
\{
  \textcolor{keywordtype}{int} temp = pncp.getFramesize();
\}
\end{DoxyCode}
 
\end{DoxyNote}
\begin{DoxyReturn}{Returns}
The current packets payload size. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{class_p_n_c_p_a153136448f88a3d2ac580c329620aea4}{available()} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{class_p_n_c_p_ae885bf46891dfdc36def5b8e8337f5b8}\label{class_p_n_c_p_ae885bf46891dfdc36def5b8e8337f5b8}} 
\index{P\+N\+CP@{P\+N\+CP}!get\+G\+A\+DD@{get\+G\+A\+DD}}
\index{get\+G\+A\+DD@{get\+G\+A\+DD}!P\+N\+CP@{P\+N\+CP}}
\subsubsection{\texorpdfstring{get\+G\+A\+D\+D()}{getGADD()}}
{\footnotesize\ttfamily uint8\+\_\+t P\+N\+C\+P\+::get\+G\+A\+DD (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get group address. 

This is used to get the currently set Group address 
\begin{DoxyCode}
\textcolor{keywordtype}{int} temp = \hyperlink{class_p_n_c_p_ae885bf46891dfdc36def5b8e8337f5b8}{getGADD}();
\end{DoxyCode}
 \begin{DoxyReturn}{Returns}
The current group address. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{class_p_n_c_p_a14efa4c46289d86be1a49f8e5594f396}{set\+G\+A\+D\+D()} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{class_p_n_c_p_aa6e0bdee89e847ff9e055868d042c538}\label{class_p_n_c_p_aa6e0bdee89e847ff9e055868d042c538}} 
\index{P\+N\+CP@{P\+N\+CP}!get\+Header@{get\+Header}}
\index{get\+Header@{get\+Header}!P\+N\+CP@{P\+N\+CP}}
\subsubsection{\texorpdfstring{get\+Header()}{getHeader()}}
{\footnotesize\ttfamily uint8\+\_\+t P\+N\+C\+P\+::get\+Header (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get current header. 

This is used to get the current header \begin{DoxyNote}{Note}
this is for debugging purposes. 
\begin{DoxyCode}
\textcolor{keywordflow}{if}(pncp.available())
\{
\textcolor{keywordtype}{int} temp = pncp.getHeader();
\textcolor{comment}{//do stuff with the header.}
\}
\end{DoxyCode}
 
\end{DoxyNote}
\begin{DoxyReturn}{Returns}
The current header. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{class_p_n_c_p_a153136448f88a3d2ac580c329620aea4}{available()} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{class_p_n_c_p_a5690f103c1f9878652ed09fff85bafb8}\label{class_p_n_c_p_a5690f103c1f9878652ed09fff85bafb8}} 
\index{P\+N\+CP@{P\+N\+CP}!get\+U\+A\+DD@{get\+U\+A\+DD}}
\index{get\+U\+A\+DD@{get\+U\+A\+DD}!P\+N\+CP@{P\+N\+CP}}
\subsubsection{\texorpdfstring{get\+U\+A\+D\+D()}{getUADD()}}
{\footnotesize\ttfamily uint32\+\_\+t P\+N\+C\+P\+::get\+U\+A\+DD (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Get current U\+A\+DD. 

This is used to get the devices unique address. 
\begin{DoxyCode}
\textcolor{keywordtype}{int} temp = pncp.getUADD();

\}
\end{DoxyCode}
 \begin{DoxyReturn}{Returns}
The devices U\+A\+DD. 
\end{DoxyReturn}
\mbox{\Hypertarget{class_p_n_c_p_a14efa4c46289d86be1a49f8e5594f396}\label{class_p_n_c_p_a14efa4c46289d86be1a49f8e5594f396}} 
\index{P\+N\+CP@{P\+N\+CP}!set\+G\+A\+DD@{set\+G\+A\+DD}}
\index{set\+G\+A\+DD@{set\+G\+A\+DD}!P\+N\+CP@{P\+N\+CP}}
\subsubsection{\texorpdfstring{set\+G\+A\+D\+D()}{setGADD()}}
{\footnotesize\ttfamily uint8\+\_\+t P\+N\+C\+P\+::set\+G\+A\+DD (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{G\+A\+DD }\end{DoxyParamCaption})}



Set group address. 

This can be called to change the group address of the device 
\begin{DoxyCode}
\textcolor{keywordtype}{int} temp = \hyperlink{class_p_n_c_p_a14efa4c46289d86be1a49f8e5594f396}{setGADD}(10);
\textcolor{keywordflow}{if}(temp == 10)\{
\textcolor{comment}{//we changed the GADD}
\}
\end{DoxyCode}
 
\begin{DoxyParams}{Parameters}
{\em G\+A\+DD} & new group address. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
The new group address. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See also}
\hyperlink{class_p_n_c_p_ade922129d20c574d2a962f3ff0cd4ea3}{P\+N\+C\+P()}, \hyperlink{class_p_n_c_p_ae885bf46891dfdc36def5b8e8337f5b8}{get\+G\+A\+D\+D()} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{class_p_n_c_p_ab292e3b595289320a03ed6179750942d}\label{class_p_n_c_p_ab292e3b595289320a03ed6179750942d}} 
\index{P\+N\+CP@{P\+N\+CP}!update@{update}}
\index{update@{update}!P\+N\+CP@{P\+N\+CP}}
\subsubsection{\texorpdfstring{update()}{update()}}
{\footnotesize\ttfamily void P\+N\+C\+P\+::update (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Collects and decodes packets. 

This should be called frequently so that packets are read and decoded. 
\begin{DoxyCode}
  \textcolor{keywordtype}{void} loop()
  \{
  \textcolor{comment}{//called every time the main loop starts}
  pncp.update();
\}
\end{DoxyCode}


\begin{DoxySeeAlso}{See also}
\hyperlink{class_p_n_c_p_a153136448f88a3d2ac580c329620aea4}{available()} 
\end{DoxySeeAlso}
\mbox{\Hypertarget{class_p_n_c_p_a510082b9d59deac16a6aa19a228c2cd7}\label{class_p_n_c_p_a510082b9d59deac16a6aa19a228c2cd7}} 
\index{P\+N\+CP@{P\+N\+CP}!write@{write}}
\index{write@{write}!P\+N\+CP@{P\+N\+CP}}
\subsubsection{\texorpdfstring{write()}{write()}}
{\footnotesize\ttfamily bool P\+N\+C\+P\+::write (\begin{DoxyParamCaption}\item[{uint8\+\_\+t $\ast$}]{P\+LD,  }\item[{uint8\+\_\+t}]{size }\end{DoxyParamCaption})}



Used to send packets. 

call this function when writing a packet back to the master. \begin{DoxyWarning}{Warning}
This is currently broken.
\end{DoxyWarning}
\begin{DoxyAttention}{Attention}
Slave modules should not send packets unless asked to. 
\end{DoxyAttention}

\begin{DoxyParams}{Parameters}
{\em $\ast$\+P\+LD} & should be a byte array of data based on the \hyperlink{class_p_n_c_p}{P\+N\+CP} application layer \\
\hline
{\em size} & this is the size of the array being sent \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
True if the packet was sent correctly. 
\end{DoxyReturn}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
lib/\+P\+N\+C\+P/P\+N\+C\+P.\+h\item 
lib/\+P\+N\+C\+P/P\+N\+C\+P.\+cpp\end{DoxyCompactItemize}
